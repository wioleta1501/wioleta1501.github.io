<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Animacja</title>
</head>
<body>
    <canvas id="myGame" width="800" height="600" style="border:2px solid black;">
        Your browser does not support the HTML canvas tag.</canvas>
        
        <script>
        window.addEventListener("keydown", movePlatform, false);
        let c = document.getElementById("myGame");
        let ctx = c.getContext("2d");
        let ballX = c.width / 2;
        let ballY = c.height-35;
        let rectX = (c.width - 80) / 2;
        let rectY = c.height-25;
        let rectWidth = 80;
        let rectHeight = 20;
        let ballRadius = 10;

        function drawBullet() {
            ctx.beginPath();
            ctx.arc(ballX, ballY, ballRadius,0,2*Math.PI);
            ctx.fillStyle = 'green';
            ctx.fill();
            ctx.closePath();
        }

        function drawPlatform() {
            ctx.beginPath();
            ctx.rect(rectX, rectY, rectWidth, rectHeight)
            ctx.fillStyle = 'gray';
            ctx.fill();
            ctx.closePath();
        }

        function movePlatform(e) {
                ctx.clearRect(rectX, rectY, rectWidth, rectHeight);
                switch(e.keyCode) {
                    case 37:
                        // left key pressed
                        if(rectX !=0){
                            rectX -= 5;
                        } else {
                            drawPlatform();
                        }
                        break;
                    case 39:
                        // right key pressed
                        if(rectX != c.width-75){
                            rectX += 5;
                        } else{
                            drawPlatform();
                        }
                        break;
                    case 32:
                        // spacebar 
                        break;
                }   
                drawPlatform();
            }

        //drawBullet();
        drawPlatform();
        
        </script> 
        
        </body>
        </html>